(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{478:function(e,t,r){"use strict";r(48),r(33),r(49);var n={inheritAttrs:!1,props:{type:{type:String,default:"confirm",validate:function(e){return["confirm","remove"].includes(e)}},center:{type:Boolean,default:!1}},data:function(){return{isShow:!1,title:"",description:"",callback:void 0}},computed:{confirmButton:function(){return"remove"==this.type?"ลบ":"Confirm"},confirmButtonColor:function(){return"remove"==this.type?"border-red":"primary"}},mounted:function(){},methods:{show:function(title,e,t){this.title=title,this.description=e,this.callback=t,this.isShow=!0},onClick:function(){this.isShow=!1,this.callback()}}},o=r(4),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("base-modal",{model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[r("div",{staticClass:"p-8"},[r("div",{staticClass:"text-xl mb-4",class:{"text-center":"remove"==e.type,"text-center":e.center}},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),r("div",{staticClass:"font-light text-gray-500 mb-4 whitespace-pre-line",class:{"text-center":"remove"==e.type,"text-center":e.center}},[e._v("\n      "+e._s(e.description)+"\n    ")]),e._v(" "),r("div",{staticClass:"mt-10 flex justify-end space-x-4",class:{"justify-center":"remove"==e.type,"justify-center":e.center}},[r("button",{staticClass:"h-10 w-32 bg-red-500 hover:bg-red-600 text-white",attrs:{color:"gray"},on:{click:function(t){e.isShow=!1}}},[e._v("Cancel")]),e._v(" "),r("button",{staticClass:"h-10 w-32 bg-green-500 hover:bg-green-600 text-white",attrs:{color:"gray"},on:{click:e.onClick}},[e._v(e._s(e.confirmButton))])])])])}),[],!1,null,null,null);t.a=component.exports},491:function(e,t,r){var content=r(533);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(18).default)("3487d086",content,!0,{sourceMap:!1})},532:function(e,t,r){"use strict";r(491)},533:function(e,t,r){var n=r(17)((function(i){return i[1]}));n.push([e.i,".mt-input[data-v-4827d2e7]{margin-top:2px}.fixheight[data-v-4827d2e7]{height:46px}",""]),n.locals={},e.exports=n},605:function(e,t,r){"use strict";r.r(t);var n=r(3),o=(r(32),r(159),r(31),{layout:"auth",components:{dialogRegister:r(478).a},data:function(){return{check_token:!1,selected:"",otherprefix:!1,pprefix:"",prefix:"",first_name:"",last_name:"",birthday:"",phone:"",email:"",password:"",confirmpassword:""}},methods:{switchSelect:function(e){this.selected=e.target.value,"other"==this.selected?(this.otherprefix=!0,this.prefix=""):this.otherprefix=!1},register:function(){var e=this,t=e.validateForm();if("other"!=e.pprefix&&(e.prefix=e.pprefix),console.log(t),t)return e.$toast.open({message:t,type:"error",duration:5e3}),void e.$store.dispatch("loading/setLoading",!1);e.$refs.alertSubmit.show('Would you like to confirm your registration? "'.concat(e.first_name,'"'),"",Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.registerClick();case 2:case"end":return t.stop()}}),t)}))))},validateForm:function(){var e=this,t="";return e.pprefix?5!=e.pprefix||e.prefix?e.first_name?e.last_name?e.birthday?e.phone?10!=e.phone.length?t="Please enter your phone number 10 digits":e.email?e.password?e.password.search(/[a-z]/i)<0?(t="Password must contain lowercase letter",e.islowwer=!0):e.password.search(/[A-Z]/)<0?(t="Password must contain capital letter",e.isupper=!0):e.password.search(/[0-9]/)<0?(t="Password must contain number",e.isnumber=!0):/[!@#$%^&*()_+\-=\[\]{};':\\|,.<>\/?]+/.test(e.password)?e.password.length<7?(t="Password must be at least 8 character",e.ismin=!0):t=e.password!=e.confirmpassword?"Please enter the same password":"":(t="Password must contain special character",e.isspecial=!0):t="Please enter your password":t="Please enter your email":t="Please enter your phone number":t="Please enter your birthday":t="Please enter your last name":t="Please enter your first name":t="Please enter your prefix":t="Please select a prefix",t},registerClick:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,form;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=e).$store.dispatch("loading/setLoading",!0),form={prefix:r.prefix,first_name:r.first_name,last_name:r.last_name,birthday:r.birthday,phone_number:r.phone,email:r.email,password:r.password},console.log(form),t.next=6,r.$api.userRegister(form).then(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.$toast.open({message:"Successful registration",type:"success",duration:5e3}),r.$router.push("/login");case 2:case"end":return e.stop()}}),e)})))).catch(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.$toast.open({message:t.response.data.message,type:"error",duration:5e3});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:r.$store.dispatch("loading/setLoading",!1);case 7:case"end":return t.stop()}}),t)})))()},onSuccess:function(e){this.check_token=!0}}}),l=o,c=(r(532),r(4)),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full"},[r("div",{staticClass:" w-full flex flex-col items-center justify-center px-4 py-6 lg:px-0"},[r("div",{staticClass:"lg:w-3/5 w-full bg-primary border-2 border-primary drop-shadow-md rounded-xl my-5 z-20 "},[r("p",{staticClass:"text-4xl text-white w-full text-center py-4"},[e._v("Register")]),e._v(" "),r("hr",{staticClass:"border-white"}),e._v(" "),r("div",{staticClass:"flex flex-col justify-center py-3"},[r("form",{staticClass:"mx-2 my-5 grid grid-cols-12 gap-1 lg:gap-3 lg:mx-16 md:gap-2 md:mx-10"},[r("div",{staticClass:"col-span-2 flex flex-col"},[e._m(0),e._v(" "),r("div",{staticClass:"flex w-full mt-input"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.pprefix,expression:"pprefix"}],staticClass:"w-full h-full rounded-2xl fixheight",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.pprefix=t.target.multiple?r:r[0]},function(t){return e.switchSelect(t)}]}},[r("option",{attrs:{disabled:"",selected:"",hidden:"",value:""}},[e._v("Prefix")]),e._v(" "),r("option",{attrs:{value:"Mr"}},[e._v("Mr")]),e._v(" "),r("option",{attrs:{value:"Mrs"}},[e._v("Mrs")]),e._v(" "),r("option",{attrs:{value:"Miss"}},[e._v("Miss")]),e._v(" "),r("option",{attrs:{value:"Ms"}},[e._v("Ms")]),e._v(" "),r("option",{attrs:{value:"other"}},[e._v("Other")])])])]),e._v(" "),r("div",{staticClass:"col-span-2 mt-7",class:e.otherprefix?"block":"hidden"},[r("label",{staticClass:"text-white text-lg font-light"}),e._v(" "),r("base-input",{staticClass:"drop-shadow-md",attrs:{name:"fname",type:"text",placeholder:"Prefix",innerClass:"rounded-2xl text-sm py-3"},model:{value:e.prefix,callback:function(t){e.prefix=t},expression:"prefix"}})],1),e._v(" "),r("div",{class:e.otherprefix?"col-span-4":"col-span-5"},[e._m(1),e._v(" "),r("base-input",{staticClass:"drop-shadow-md",attrs:{name:"fname",type:"text",placeholder:"First Name",innerClass:"rounded-2xl text-sm py-3"},model:{value:e.first_name,callback:function(t){e.first_name=t},expression:"first_name"}})],1),e._v(" "),r("div",{class:e.otherprefix?"col-span-4":"col-span-5"},[e._m(2),e._v(" "),r("base-input",{staticClass:"drop-shadow-md",attrs:{name:"fname",type:"text",placeholder:"Last Name",innerClass:"rounded-2xl text-sm py-3"},model:{value:e.last_name,callback:function(t){e.last_name=t},expression:"last_name"}})],1),e._v(" "),r("div",{staticClass:"col-span-4 mt-input flex flex-col"},[e._m(3),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.birthday,expression:"birthday"}],staticClass:"rounded-2xl h-full fixheight",attrs:{type:"date",name:"",id:""},domProps:{value:e.birthday},on:{input:function(t){t.target.composing||(e.birthday=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"col-span-4"},[e._m(4),e._v(" "),r("base-input",{staticClass:"drop-shadow-md",attrs:{name:"phone",type:"phone",placeholder:"Phone Number",innerClass:"rounded-2xl text-sm py-3"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),r("div",{staticClass:"col-span-4"},[e._m(5),e._v(" "),r("base-input",{staticClass:"drop-shadow-md",attrs:{name:"email",type:"email",placeholder:"E-mail",innerClass:"rounded-2xl text-sm py-3"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),r("div",{staticClass:"col-span-6"},[e._m(6),e._v(" "),r("base-input",{staticClass:"drop-shadow-md",attrs:{name:"password",id:"password",type:"password",placeholder:"Password",innerClass:"rounded-2xl text-sm py-3"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),r("div",{staticClass:"col-span-6"},[e._m(7),e._v(" "),r("base-input",{staticClass:"drop-shadow-md",attrs:{type:"password",name:"confirm_password",id:"confirm_password",placeholder:"Confirm Password",innerClass:"rounded-2xl text-sm py-3"},model:{value:e.confirmpassword,callback:function(t){e.confirmpassword=t},expression:"confirmpassword"}})],1)]),e._v(" "),r("hr",{staticClass:"border-white mb-4"}),e._v(" "),r("div",{staticClass:"mx-16 text-white"},[r("p",[e._v("Password must be")]),e._v(" "),r("ol",{staticStyle:{"list-style-type":"disc"}},[r("li",[e._v("\n                            Minimun of 8 characters\n                            (\n                            "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:e.password.length>=8,expression:"password.length >= 8"}],staticClass:"text-white",attrs:{icon:"check",viewBox:"0 0 48 48",size:"20"}}),e._v(" "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:e.password.length<8,expression:"password.length < 8"}],staticClass:"text-red-500",attrs:{icon:"xmark",viewBox:"0 0 48 48",size:"20"}}),e._v(" )\n                        ")],1),e._v(" "),r("li",[e._v("\n                            Upper\n                            (\n                            "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:e.password.search(/[A-Z]/)>=0,expression:"password.search(/[A-Z]/) >= 0"}],staticClass:"text-white",attrs:{icon:"check",viewBox:"0 0 48 48",size:"20"}}),e._v(" "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:e.password.search(/[A-Z]/)<0,expression:"password.search(/[A-Z]/) < 0"}],staticClass:"text-red-500",attrs:{icon:"xmark",viewBox:"0 0 48 48",size:"20"}}),e._v(" )\n                        ")],1),e._v(" "),r("li",[e._v("\n                            Lower\n                            (\n                            "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:e.password.search(/[a-z]/)>=0,expression:"password.search(/[a-z]/) >= 0"}],staticClass:"text-white",attrs:{icon:"check",viewBox:"0 0 48 48",size:"20"}}),e._v(" "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:e.password.search(/[a-z]/)<0,expression:"password.search(/[a-z]/) < 0"}],staticClass:"text-red-500",attrs:{icon:"xmark",viewBox:"0 0 48 48",size:"20"}}),e._v(" )\n                        ")],1),e._v(" "),r("li",[e._v("\n                            Number\n                            (\n                            "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:e.password.search(/[0-9]/)>=0,expression:"password.search(/[0-9]/) >= 0"}],staticClass:"text-white",attrs:{icon:"check",viewBox:"0 0 48 48",size:"20"}}),e._v(" "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:e.password.search(/[0-9]/)<0,expression:"password.search(/[0-9]/) < 0"}],staticClass:"text-red-500",attrs:{icon:"xmark",viewBox:"0 0 48 48",size:"20"}}),e._v(" )\n                        ")],1),e._v(" "),r("li",[e._v("\n                            One special character\n                            (\n                            "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:/[!@#$%^&*()_+\-=\[\]{};':\\|,.<>\/?]+/.test(e.password),expression:"/[!@#$%^&*()_+\\-=\\[\\]{};':\\\\|,.<>\\/?]+/.test(password)"}],staticClass:"text-white",attrs:{icon:"check",viewBox:"0 0 48 48",size:"20"}}),e._v(" "),r("base-icon",{directives:[{name:"show",rawName:"v-show",value:!/[!@#$%^&*()_+\-=\[\]{};':\\|,.<>\/?]+/.test(e.password),expression:"!/[!@#$%^&*()_+\\-=\\[\\]{};':\\\\|,.<>\\/?]+/.test(password)"}],staticClass:"text-red-500",attrs:{icon:"xmark",viewBox:"0 0 48 48",size:"20"}}),e._v(" )\n                        ")],1)])])])]),e._v(" "),r("button",{staticClass:"py-3 rounded-2xl w-1/5 bg-primary border-none text-white font-light my-2 sm:w-3/12 drop-shadow-md",attrs:{type:"submit",color:"gray",disabled:!e.check_token},on:{click:function(t){return t.preventDefault(),e.register()}}},[e._v("\n            Register")]),e._v(" "),r("nuxt-link",{staticClass:"text-center w-2/5 text-sm border-2 border-primary drop-shadow-md font-light underline bg-white py-3 rounded-2xl sm:w-3/12 my-2",attrs:{to:"/"}},[e._v("Back to homepage")]),e._v(" "),r("div",{staticClass:"flex justify-center mt-4"},[r("recaptcha",{on:{success:e.onSuccess}})],1)],1),e._v(" "),r("dialog-register",{ref:"alertSubmit",attrs:{type:"confirm"}})],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-white text-lg font-light"},[e._v("Prefix"),r("span",{staticClass:"text-red-500"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-white text-lg font-light"},[e._v("First Name"),r("span",{staticClass:"text-red-500"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-white text-lg font-light"},[e._v("Last Name"),r("span",{staticClass:"text-red-500"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-white text-lg font-light"},[e._v("Birthday"),r("span",{staticClass:"text-red-500"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-white text-lg font-light"},[e._v("Phone Number"),r("span",{staticClass:"text-red-500"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-white text-lg font-light"},[e._v("Email"),r("span",{staticClass:"text-red-500"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-white text-lg font-light"},[e._v("Password"),r("span",{staticClass:"text-red-500"},[e._v(" *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-white text-lg font-light"},[e._v("Confirm Password"),r("span",{staticClass:"text-red-500"},[e._v("\n                                *")])])}],!1,null,"4827d2e7",null);t.default=component.exports}}]);